{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="{%static 'css/style.css' %}"  id="theme-link">
    <link rel="stylesheet" href="{%static 'css/styleagendar.css' %}">
    <script src="{% static 'js/chartlight.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{% static 'js/scriptagen.js' %}" defer></script>
    <!-- Material-->
    <script src="https://cdn.jsdelivr.net/npm/lightweight-charts@latest/dist/lightweight-charts.standalone.production.js"></script> 
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
</head>
<body>
     <!-- Inicio del apartado de menu-->
    <div class="container">
        <!-- etiqueta lateral-->
        <aside>
                <div class="top">
                        <div class="logo">
                            <img src="../static/images/logo.png" alt="">
                            <h2>V<span class="danger">Signal</span></h2>
                        </div>
                    
                        <div class="close" id="close-btn">
                            <span class="material-symbols-outlined">
                                close
                                </span>
                        </div>
                </div>
                <!--1-->
                <div class="sidebar">
                    <a href="{% url 'dashboardM'%}">
                        <span class="material-symbols-outlined">
                            grid_view
                            </span>
                            <h3>dashboard</h3>
                    </a>
    
                <!--3-->
        
                    <a  href="{% url 'grafpulsoM'%}" >
                        <span class="material-symbols-outlined">
                            graphic_eq
                            </span>
                            <h3>Gráfica de pulso</h3>
                    </a>
        
                <!--4-->
        
                    <a href="{% url 'graflinealM'%}">
                        <span class="material-symbols-outlined">
                            show_chart
                            </span>
                            <h3>Gráfica lineal</h3>
                    </a>
                <!--5-->
            
                    <a  href="{% url 'grafbarraM'%}">
                        <span class="material-symbols-outlined">
                            bar_chart
                            </span>
                            <h3>Gráfica de barra</h3>
                    </a>
    
                <!--6-->
        
                    <a  href="{% url 'grafmedidoresM'%}">
                        <span class="material-symbols-outlined">
                            speed
                            </span>
                            <h3>Gráfica de medidores</h3>
                           <!--mensajes de notificacion <span class="message-count">2</span>-->
                    </a>
        
                    <a class="active">
                    
                        <span class="material-symbols-outlined">
                            schedule
                            </span>
                            <h3>Agendar</h3>
                            
                    </a>
                    <span class="material-symbols-outlined">
                        horizontal_rule
                        </span>
       
                    </a>
                    <a class="accessibility-buttons" onclick="increaseTextSize()">
                    
                        <span class="material-symbols-outlined">
                            format_size
                            </span>
                            <h3>Aumentar el tamaño de texto</h3>
                            
                    </a>
                    <a class="accessibility-buttons" onclick="decreaseTextSize()">
                    
                        <span class="material-symbols-outlined">
                            format_size
                            </span>
                            <h3>Disminuir el tamaño de texto</h3>
                            
                    </a>

                    <a href="#">
                        <span class="material-symbols-outlined">
                            logout
                            </span>
                            <h3>Cerrar sesión</h3>
                            
                    </a>
                </div>
            </aside>  
                <!--Find de apartado del menu--> 
    <main>
        <h1>Realizar una agenda</h1>

        <div class="insights">
            <div class="sales">
               <!-- <span class="material-symbols-outlined">analytics</span>-->
                <div class="middle">
                    <div class="wrapper">
                        <header>
                            <h2  class="current-date"></h2>
                            <div class="icons">
                                <span id="prev" class="material-symbols-rounded">chevron_left</span>
                                <span id="next" class="material-symbols-rounded">chevron_right</span>
                            </div>
                        </header>
                        <div class="calendar">
                            <ul class="weeks">
                                <li>Lu.</li>
                                <li>Ma.</li>
                                <li>Mi.</li>
                                <li>Ju.</li>
                                <li>Vi.</li>
                                <li>Sa.</li>
                                <li>Do.</li>
                            </ul>
                            <ul class="days">
                                
                            </ul>
                        </div>
                    </div>
                   
                    <div class="left">

                        <form action="{% url 'agendar_fecha_view' %}" method="POST">
                            {% csrf_token %}
                            {{ form.as_p }}
                            <!-- Aqui viene el horario o citas -->
                            <div class="input-container date1">
                                <label for="selected-day">Día seleccionado:</label>
                                <span id="selected-day" class="selected-day"></span>
                            </div>
                        
                            <div class="input-container dateall">
                                <label for="full-date">Fecha :</label>
                                <span id="full-date" class="full-date"></span>
                            </div>
                        
                            <div class="input-container limit">
                                <label for="numero_cuenta">Limite de acceso</label>
                                <input id="numero_cuenta" name="numero_cuenta" type="number" placeholder="1-42" required>
                            </div>
                        
                            <div class="input-row">
                                <div class="input-container grade">
                                    <label for="grado">Grado</label>
                                    <select id="grado" name="grado" required>
                                        <option value="" disabled selected>Selecciona un grado</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                    </select>
                                </div>
                                <div class="input-container group">
                                    <label for="grupo">Grupo</label>
                                    <select id="grupo" name="grupo" required>
                                        <option value="" disabled selected>Selecciona un grupo</option>
                                        <option value="A">A</option>
                                        <option value="B">B</option>
                                        <option value="C">C</option>
                                        <option value="D">D</option>
                                    </select>
                                </div>
                            </div>
                        
                            <div class="input-container clave">
                                <label for="random-key">Clave Generada :</label>
                                <span id="random-key" class="random-key" readonly></span>
                            </div>
                            <button type="button" id="generate-key">Generar clave</button>
                            <button type="submit">Aceptar</button>
                            <button type="reset">Cancelar</button>
                        </form>
                        
                    </div>
                <!--<small class="text-muted">Last 24 hours</small>-->
            </div>
        </div>
           
        </div>
        
     </main> 
     <!-- termina el main-->

     <div class="right">
            <div class="top">
                <button id="menu-btn">
                    <span class="material-symbols-outlined">menu</span>
                </button>
               
                <div class="profile">
                    <div class="info">
                        <p>Hey,</p> <b>Nombre</b>
                        <small class="text-muted">Maestro</small>
                    </div>
                    <div class="profile-photo">
                        <img src="../static/images/logo.png" alt="">
                    </div>
                </div>
            </div>
            <!-- final del top-->
            <div class="recent-updates">
                <h2>Recent updates</h2>
                    <div class="updates">
                        <div class="update">
                            <div class="profile-photo">
                                <img src="../static/images/logo.png" alt="">
                            </div>  
                            <div class="message">
                                <p><b>1Javier Flores </b>solicito acceso</p>
                                <small class="text-muted">Hace 2 minutos</small>
                            </div>
                        </div> 
                        <div class="update">
                            <div class="profile-photo">
                                <img src="../static/images/logo.png" alt="">
                            </div>  
                            <div class="message">
                                <p><b>2Javier Flores </b>solicito acceso</p>
                                <small class="text-muted">Hace 2 minutos</small>
                            </div>
                        </div> 
                        <div class="update">
                            <div class="profile-photo">
                                <img src="../static/images/logo.png" alt="">
                            </div>  
                            <div class="message">
                                <p><b>3Javier Flores </b>solicito acceso</p>
                                <small class="text-muted">Hace 2 minutos</small>
                            </div>
                        </div> 
                        <div class="update">
                            <div class="profile-photo">
                                <img src="../static/images/logo.png" alt="">
                            </div>  
                            <div class="message">
                                <p><b>4Javier Flores  </b>solicito acceso</p>
                                <small class="text-muted">Hace 2 minutos</small>
                            </div>
                        </div>   
                    </div>
            </div>
            <!-- fin de la parte de actualizaciones recientes -->
               
        </div>
    </div>
    <script src="{% static 'js/index.js' %}"></script>
    <script src="{% static 'js/letras.js' %}"></script>
    <script>
        var chart4Dom = document.getElementById('chart-container');
        createChart4(chart4Dom);
    </script>
    <script>
        function cambiarEstilo() {
            var link = document.getElementById('theme-link');
            var hrefActual = link.href;
            var urlOriginal = "{%static 'css/styleM.css' %}";
            var urlAlternativo = "{%static 'css/style.css' %}";

            if (hrefActual.includes(urlOriginal)) {
                link.href = urlAlternativo;
                localStorage.setItem('theme', 'alternativo');
            } else {
                link.href = urlOriginal;
                localStorage.setItem('theme', 'original');
            }
        }
        // Función para aplicar el estilo guardado al cargar la página
        function aplicarEstiloGuardado() {
            var theme = localStorage.getItem('theme');
            var link = document.getElementById('theme-link');
            var urlOriginal = "{%static 'css/styleM.css' %}";
            var urlAlternativo = "{%static 'css/style.css' %}";

            if (theme === 'alternativo') {
                link.href = urlAlternativo;
            } else {
                link.href = urlOriginal;
            }
        }

        // Llamar a aplicarEstiloGuardado al cargar la página
        window.onload = aplicarEstiloGuardado;
    </script>
</body>
</html>